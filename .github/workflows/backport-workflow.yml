name: Backport changes

env:
  GH_TOKEN: ${{ secrets.DEVOPSHAZELCAST_PAT_FOR_MONOREPO }}

on:
  workflow_call:

jobs:
  backport:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
        with:
          # ensure the backport target branch is checked out, too
          fetch-depth: 0

      - uses: hazelcast/backport/.github/actions/backport@master
        with:
          GITHUB_TOKEN: ${{ secrets.DEVOPSHAZELCAST_PAT_FOR_MONOREPO }}
          TARGET_BRANCH: main
          REF_TO_BACKPORT: v/5.5
          BACKPORT_OPTIONS: --omit-labels
