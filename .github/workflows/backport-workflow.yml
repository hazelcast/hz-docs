name: Backport changes

on:
  workflow_call:

jobs:
  backport:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
        with:
          # ensure the backport target branch is checked out, too
          fetch-depth: 0
          ref: v/5.5

      - uses: hazelcast/backport/.github/actions/backport@master
        with:
          GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
          TARGET_BRANCH: main
          REF_TO_BACKPORT: ${{ github.sha }}
          BACKPORT_OPTIONS: --omit-labels
